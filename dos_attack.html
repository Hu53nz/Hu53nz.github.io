<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>DoS Attack - Cybersecurity Handbook</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .content-container {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .text-content {
            flex: 1;
            text-align: left;
        }

        #DoSAttackImage {
            flex: 0; /* Allow the image to not affect the text size */
            max-width: 600px; /* Adjust as necessary */
            height: auto;
            margin-left: auto; /* Align the image to the right */
        }

        .code-snippet {
            margin-top: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Denial of Service (DoS) Attack</h1>
    </header>

    <nav>
        <a href="index.html">Introduction</a>
        <a href="dos_attack.html">Denial of Service Attack &amp; Solution</a>
        <a href="IPD.html">Insecure Plugin Design &amp; Solution</a>
        <a href="prompt_injection.html">Prompt Injection Attack &amp; Solution</a>
        <a href="xss_attack.html">Insecure Output Handling &amp; Solution</a>
    </nav>

    <div class="container">
        <section class="content-container">
            <div class="text-content">
                <h2>What is a DoS Attack on Chatbots?</h2>
                <p>A Denial of Service (DoS) attack aims to overload a chatbot system by flooding it with requests, exhausting resources, and making it unresponsive to legitimate users. Attackers exploit this by sending numerous or high-resource requests, resulting in delayed responses or system crashes.</p>
                
                <h3>DoS Attack Examples Targeting Chatbots</h3>
                <ul>
                    <li><strong>HTTP Flooding:</strong> Overloading the server with excessive HTTP requests.</li>
                    <li><strong>UDP Amplification:</strong> Using open servers to magnify and direct network traffic toward the chatbot.</li>
                    <li><strong>Slowloris Attack:</strong> Keeping connections open to exhaust available resources.</li>
                </ul>
                
                <h3>Solution: Implementing Rate Limiting, IP Blocking, and DoS Detection</h3>
                <ul style="padding-left: 0; margin-left: 0;">
                    <li>
                        <strong>Rate Limiting:</strong>
                        <ul style="padding-left: 20px; margin-left: 0;">
                            <li>Limits requests to a set maximum (RATE_LIMIT_PER_MINUTE) per IP within a 60-second period.</li>
                            <li>Users receive warnings as they near the limit, with temporary blocking for excessive requests, and permanent blocking after multiple violations.</li>
                        </ul>
                        <div class="code-snippet">
                            <img src="images/rate_limiting.png" alt="Rate Limiting Code Snippet">
                            <p>This code checks if the user's IP address is currently blocked due to exceeding the rate limit. If the user is blocked, an error message is displayed, informing them of the temporary restriction.</p>
                        </div>
                    </li>
                    <li>
                        <strong>IP-Based DoS Protection:</strong>
                        <ul style="padding-left: 20px; margin-left: 0;">
                            <li>Tracks user IPs to differentiate between legitimate users and potential attackers, blocking IPs that abuse the system.</li>
                        </ul>
                        <div class="code-snippet">
                            <img src="images/ip_protection.png" alt="IP-Based DoS Protection Code Snippet">
                            <p>This line cleans up old request timestamps older than 60 seconds for the user's IP address. This helps in tracking the number of requests made by the user within the rate limiting window.</p>
                        </div>
                    </li>
                    <li>
                        <strong>Persistent Block and Rate Limit Data:</strong>
                        <ul style="padding-left: 20px; margin-left: 0;">
                            <li>Saves blocked IPs and request counts in block_data.json to maintain states even after application restarts, preventing flagged IPs from bypassing restrictions.</li>
                        </ul>
                        <div class="code-snippet">
                            <img src="images/persistent_data.png" alt="Persistent Block Data Code Snippet">
                            <p>This code snippet saves the blocked IPs and their request counts to a JSON file. This persistence allows the system to remember blocked users even after the application is restarted.</p>
                        </div>
                    </li>
                    <li>
                        <strong>Metrics Tracking for Incident Response:</strong>
                        <ul style="padding-left: 20px; margin-left: 0;">
                            <li>Tracks blocking counts for each IP, CPU usage, and response times.</li>
                            <li>Abnormal metrics can indicate a DoS attack or performance issues.</li>
                        </ul>
                        <div class="code-snippet">
                            <img src="images/metrics_tracking.png" alt="Metrics Tracking Code Snippet">
                            <p>This line increments the total requests counter whenever a request is successfully processed. This metric can help in monitoring usage patterns and detecting anomalies.</p>
                        </div>
                    </li>
                    <li>
                        <strong>Error Handling and Logging:</strong>
                        <ul style="padding-left: 20px; margin-left: 0;">
                            <li>Logs each request, including violations, in request_logs.txt for auditing.</li>
                            <li>Logs include IP actions and timestamps for effective monitoring and debugging.</li>
                        </ul>
                        <div class="code-snippet">
                            <img src="images/error_logging.png" alt="Error Handling and Logging Code Snippet">
                            <p>This code appends log messages about user requests and their statuses (successes, errors, or blocks) to a log file. This logging is crucial for monitoring system behavior and diagnosing issues.</p>
                        </div>
                    </li>
                </ul>

                <p>For full code implementation, view the code below:</p>
                <p><a href="code_example_link">View Code Implementation</a></p>
            </div>
            <img id="DoSAttackImage" src="images/dos_attack.png" alt="DoS Attack Diagram">
        </section>
    </div>

    <footer>
        <p>Â© 2024 Cybersecurity Handbook for AI Chatbots. All Rights Reserved.</p>
    </footer>

</body>
</html>
